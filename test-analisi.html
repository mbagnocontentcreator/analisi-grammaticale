<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Analizzatore Grammaticale</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .test-case {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-frase {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .risultato {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        .parola-analizzata {
            background: #f0f0f0;
            padding: 8px 12px;
            border-radius: 5px;
            border: 2px solid #ddd;
        }
        .parola-testo {
            font-weight: bold;
            color: #333;
        }
        .parola-tipo {
            color: #667eea;
            font-size: 12px;
            margin-top: 4px;
        }
        .btn-test {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .btn-test:hover {
            background: #5568d3;
        }
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Analizzatore Grammaticale Avanzato</h1>
    
    <div id="test-container"></div>
    
    <!-- Include i file JavaScript -->
    <script src="dizionario-verbi.js"></script>
    <script src="analizzatore-avanzato.js"></script>
    
    <script>
        // Frasi di test con risultati attesi
        const frasiTest = [
            {
                frase: "Perch√© non studi?",
                attesi: {
                    "Perch√©": "congiunzione/avverbio",
                    "non": "avverbio",
                    "studi": "verbo"
                }
            },
            {
                frase: "Sei bravo a scuola?",
                attesi: {
                    "Sei": "verbo",
                    "bravo": "aggettivo",
                    "a": "preposizione",
                    "scuola": "nome"
                }
            },
            {
                frase: "Simone mangia un piatto di pasta velocemente",
                attesi: {
                    "Simone": "nome",
                    "mangia": "verbo",
                    "un": "articolo",
                    "piatto": "nome",
                    "di": "preposizione",
                    "pasta": "nome",
                    "velocemente": "avverbio"
                }
            },
            {
                frase: "Il cane corre nel parco",
                attesi: {
                    "Il": "articolo",
                    "cane": "nome",
                    "corre": "verbo",
                    "nel": "preposizione",
                    "parco": "nome"
                }
            },
            {
                frase: "Maria e Giovanni studiano insieme",
                attesi: {
                    "Maria": "nome",
                    "e": "congiunzione",
                    "Giovanni": "nome",
                    "studiano": "verbo",
                    "insieme": "avverbio"
                }
            },
            {
                frase: "Non ho fatto i compiti",
                attesi: {
                    "Non": "avverbio",
                    "ho": "verbo",
                    "fatto": "verbo",
                    "i": "articolo",
                    "compiti": "nome"
                }
            },
            {
                frase: "La mia casa √® grande",
                attesi: {
                    "La": "articolo",
                    "mia": "aggettivo",
                    "casa": "nome",
                    "√®": "verbo",
                    "grande": "aggettivo"
                }
            },
            {
                frase: "Che bel giorno!",
                attesi: {
                    "Che": "aggettivo",
                    "bel": "aggettivo",
                    "giorno": "nome"
                }
            },
            {
                frase: "Vado a casa perch√© sono stanco",
                attesi: {
                    "Vado": "verbo",
                    "a": "preposizione",
                    "casa": "nome",
                    "perch√©": "congiunzione",
                    "sono": "verbo",
                    "stanco": "aggettivo"
                }
            },
            {
                frase: "Chi sei tu?",
                attesi: {
                    "Chi": "pronome",
                    "sei": "verbo",
                    "tu": "pronome"
                }
            }
        ];
        
        // Funzione per testare una frase
        function testaFrase(fraseObj, index) {
            const analizzatore = new AnalizzatoreAvanzato();
            const risultati = analizzatore.analizzaFrase(fraseObj.frase);
            
            let html = `
                <div class="test-case">
                    <div class="test-frase">${index + 1}. "${fraseObj.frase}"</div>
                    <div class="risultato">
            `;
            
            let tuttoCorretto = true;
            risultati.forEach(item => {
                if (item.tipo === 'punteggiatura') return;
                
                const atteso = fraseObj.attesi[item.parola];
                const corretto = atteso && atteso.includes(item.tipo);
                
                if (!corretto) tuttoCorretto = false;
                
                const colore = corretto ? '#28a745' : '#dc3545';
                html += `
                    <div class="parola-analizzata" style="border-color: ${colore}">
                        <div class="parola-testo">${item.parola}</div>
                        <div class="parola-tipo">${item.tipo.toUpperCase()}</div>
                        ${item.sottotipo ? `<div style="font-size: 10px; color: #888;">${item.sottotipo}</div>` : ''}
                        ${!corretto && atteso ? `<div style="font-size: 10px; color: red;">Atteso: ${atteso}</div>` : ''}
                    </div>
                `;
            });
            
            html += `
                    </div>
                    <div class="status ${tuttoCorretto ? 'success' : 'error'}">
                        ${tuttoCorretto ? '‚úÖ Analisi corretta!' : '‚ö†Ô∏è Alcuni elementi potrebbero essere migliorati'}
                    </div>
                </div>
            `;
            
            return html;
        }
        
        // Esegui tutti i test
        function eseguiTuttiITest() {
            const container = document.getElementById('test-container');
            let html = '';
            
            frasiTest.forEach((fraseObj, index) => {
                html += testaFrase(fraseObj, index);
            });
            
            container.innerHTML = html;
        }
        
        // Esegui i test al caricamento della pagina
        window.onload = function() {
            eseguiTuttiITest();
        };
    </script>
</body>
</html>